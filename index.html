<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Xin Jin — Economics | Research | CV</title>
  <style>
    :root { --fg:#0b1220; --bg:#fff; --accent:#0a66c2; }
    body { margin:0; font-family:system-ui, sans-serif; color:var(--fg); background:var(--bg); }
    a { color:var(--accent); text-decoration:none; }

    /* Desktop layout */
    .layout { display:grid; grid-template-columns:260px 1fr; min-height:100vh; gap: 0;}
    .sidebar { border-right: 0; box-shadow: none; }

    /* Sidebar (desktop defaults) */
    .sidebar { background:#111111; color:#fff; padding:2rem 1rem; position:static; width:auto; height:auto; overflow:visible; }
    .sidebar .close { display:none; }
    .avatar { width:140px; height:140px; border-radius:50%; object-fit:cover; display:block; margin:0 auto 1rem; }
    .name { text-align:center; margin:0; font-size:1.4rem; font-weight:700; }
    .role { text-align:center; color:#bbb; margin:.25rem 0 1.25rem; }
    .tabs { display:flex; flex-direction:column; gap:.5rem; }
    .tabs button { background:none; border:none; text-align:left; color:#ddd; font-weight:600; padding:.5rem .75rem; border-radius:.35rem; cursor:pointer; }
    .tabs button[aria-selected="true"] { background:rgba(255,255,255,.15); color:#fff; }
    .backdrop { display: none; }
    /* Content */
    .content { padding:2rem 1.5rem; }
    #content:focus, #content:focus-visible { outline:none; }
    [hidden] { display: none !important; }

  /* Resume section */
  #view-resume {
    display: flex;
    flex-direction: column;
    align-items: center;   /* centers the title horizontally */
    text-align: center;    /* centers the text under the title */
    padding: 2rem 1.5rem;
  }

  #view-resume h1 {
    font-size: 2.5rem;
    margin: 0 0 1.5rem 0;  /* space below the title */
  }


  /* Teaching section */
  #view-teaching {
    display: flex;
    flex-direction: column;
    align-items: center;   /* centers the title horizontally */
    text-align: center;    /* centers the text under the title */
    padding: 2rem 1.5rem;
  }

  #view-teaching h1 {
    font-size: 2.5rem;
    margin: 0 0 1.5rem 0;  /* space below the title */
  }

  /* research section */
  #view-research {
    display: flex;
    flex-direction: column;
    align-items: center;   /* centers the title horizontally */
    text-align: center;    /* centers the text under the title */
    padding: 2rem 1.5rem;
  }

  #view-research h1 {
    font-size: 2.5rem;
    margin: 0 0 1.5rem 0;  /* space below the title */
  }
  #view-research p {
    max-width: 800px;         /* keep paragraphs readable */
    line-height: 1.6;
  }


  /*styling for home page */
  #view-home{
    display:grid;
    grid-template-columns: 1.2fr 1fr;  /* text : image */
    align-items:start;
    gap:2rem;
    padding:2rem;
  }

  #view-home .home-copy{
    text-align:left;
    max-width: 800px;
  }

  #view-home h1{
    font-size:3rem;
    margin:0 0 1rem;
  }

  #view-home p{
    font-size:1.25rem;
    line-height:1.7;
  }

  /* Image styles  for home */
  .home-media{ margin:0; }
  .home-photo{
    width:100%;
    max-width:520px;
    aspect-ratio: 4 / 5;     /* nice portrait shape */
    object-fit:cover;
    border-radius:12px;
    box-shadow:0 6px 24px rgba(0,0,0,.12);
  }

  /* Stack on mobile */
  @media (max-width:860px){
    #view-home{
      grid-template-columns:1fr;
      text-align:center;
    }
    #view-home .home-copy{ text-align:center; margin:0 auto; }
    .home-photo{ margin:0 auto; }
  }

  /* top bar stuff */
  .topbar{
      display:flex; position:fixed; top:0; left:0; right:0; height:56px;
      align-items:center; gap:.75rem; padding:0 1rem;
      background:#fff; border-bottom:1px solid #eaeef3; z-index:2000; /* on top of everything */
  }
  .menu-toggle{ background:none; border:none; font-size:1.5rem; line-height:1; }
  .brand{ font-weight:700; }
  
  /* Hide header on large screens (sidebar is visible there) */
  @media (min-width: 861px){
      .topbar { display: none; }            /* <-- this was missing */
    
      .content { position: relative; background:#fff; border-left: 0; }
      .content::before{
        content:"";
        position:absolute; left:-1px; top:0; bottom:0; width:2px;
        background:#fff; pointer-events:none;
      }
    }
    

  /* Mobile styles */
  @media (max-width:860px){
      .layout{ display:block; padding-top:56px; }
      .sidebar{
        position:fixed; top:56px; left:0; bottom:0; width:260px; overflow-y:auto;
        background:#111; color:#fff; padding:2rem 1rem;
        transform:translateX(-100%); transition:transform .25s ease; z-index:1100;
      }
      .sidebar.open{ transform:translateX(0); }
    
      .backdrop{ display:none; position:fixed; inset:56px 0 0 0; background:rgba(0,0,0,.4); z-index:1050; }
      .backdrop.show{ display:block; }
  }
      
      
      
  </style>
</head>
<body>
  <!-- Mobile header -->
  <header class="topbar" role="banner">
    <button class="menu-toggle" aria-controls="sidebar" aria-expanded="false" aria-label="Open menu">☰</button>
    <div class="brand">Xin Jin</div>
  </header>
  <div class="backdrop" id="backdrop"></div>

  <main class="layout">
    <aside class="sidebar" id="sidebar" role="complementary">
      <button class="close" aria-label="Close menu">×</button>
      <img src="./resume_pic.jpg" alt="Portrait of Xin Jin" class="avatar">
      <h2 class="name">Xin Jin</h2>
      <p class="role">Ph.D. Candidate · Economics</p>
      <nav class="tabs" role="tablist">
        <button role="tab" data-target="home" aria-selected="true">Home</button>
        <button role="tab" data-target="teaching">Teaching</button>
        <button role="tab" data-target="research">Research</button>
        <button role="tab" data-target="resume">Resume</button>
      </nav>
    </aside>

    <section class="content" id="content">
      <article id="view-home" data-view="home">
        <div class="home-copy">
          <h1>Xin Jin</h1>
          <p>I’m a Ph.D. Candidate in Economics at the University of Tennessee, Knoxville. I study how natural disasters affect educational outcomes, focusing on earthquake exposure and student achievement in Mexico.</p>
        </div>
      
        <figure class="home-media">
          <img src="./resume_pic.jpg" alt="Portrait of Xin Jin" class="home-photo" />
        </figure>
      </article>
      <article id="view-teaching" data-view="teaching" hidden>
        <h1>Teaching</h1>
        <p>Teaching details...</p>
      </article>
      <article id="view-research" data-view="research" hidden>
        <h1>Research</h1>
        <p>Research works...</p>
      </article>
      <article id="view-resume" data-view="resume" hidden>
        <iframe 
          src="Xin_Jin.pdf#view=FitH" 
          width="60%" 
          height="900px" 
          style="border:none; box-shadow:0 0 12px rgba(0,0,0,.1); border-radius:8px;">
        </iframe>
      </article>
    </section>
  </main>

  <script>
    // Tabs (no reload)
    const views = new Map([...document.querySelectorAll('[id^="view-"]')].map(el=>[el.dataset.view,el]));
    const tabs = document.querySelectorAll('.tabs button');
    const content = document.getElementById('content');
    function show(view){
      if(!views.has(view)) view='home';
      views.forEach((el,k)=>el.hidden=k!==view);
      tabs.forEach(t=>t.setAttribute('aria-selected',String(t.dataset.target===view)));
      history.replaceState(null,'','#'+view);
      closeSidebar();
    }
    tabs.forEach(t=>t.addEventListener('click',()=>show(t.dataset.target)));

    // Drawer logic
    const sidebar=document.getElementById('sidebar');
    const openBtn=document.querySelector('.menu-toggle');
    const closeBtn=document.querySelector('.sidebar .close');
    const backdrop=document.getElementById('backdrop');

    function openSidebar(){ sidebar.classList.add('open'); backdrop.classList.add('show'); }
    function closeSidebar(){ sidebar.classList.remove('open'); backdrop.classList.remove('show'); }
    

    openBtn?.addEventListener('click',()=>{ sidebar.classList.contains('open') ? closeSidebar() : openSidebar(); });
    closeBtn?.addEventListener('click', closeSidebar);
    backdrop?.addEventListener('click', closeSidebar);
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeSidebar(); });

    // Initial view
    window.addEventListener('DOMContentLoaded',()=>{ show(location.hash.replace('#','')||'home'); });
  </script>
</body>
</html>
