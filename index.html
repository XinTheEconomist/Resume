<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Xin Jin — Economics | Research | CV</title>
  <style>
    :root { --fg:#0b1220; --bg:#fff; --accent:#0a66c2; }
    body { margin:0; font-family:system-ui, sans-serif; color:var(--fg); background:var(--bg); }
    a { color:var(--accent); text-decoration:none; }

    /* Desktop layout */
    .layout { display:grid; grid-template-columns:260px 1fr; min-height:100vh; }

    /* Sidebar (desktop defaults) */
    .sidebar { background:#111; color:#fff; padding:2rem 1rem; position:static; width:auto; height:auto; overflow:visible; }
    .sidebar .close { display:none; }
    .avatar { width:140px; height:140px; border-radius:50%; object-fit:cover; display:block; margin:0 auto 1rem; }
    .name { text-align:center; margin:0; font-size:1.4rem; font-weight:700; }
    .role { text-align:center; color:#bbb; margin:.25rem 0 1.25rem; }
    .tabs { display:flex; flex-direction:column; gap:.5rem; }
    .tabs button { background:none; border:none; text-align:left; color:#ddd; font-weight:600; padding:.5rem .75rem; border-radius:.35rem; cursor:pointer; }
    .tabs button[aria-selected="true"] { background:rgba(255,255,255,.15); color:#fff; }

    /* Content */
    .content { padding:2rem 1.5rem; }

    /* Top bar (mobile only) */
    /* Put these OUTSIDE any media query */
    .topbar{
        display:flex; position:fixed; top:0; left:0; right:0; height:56px;
        align-items:center; gap:.75rem; padding:0 1rem;
        background:#fff; border-bottom:1px solid #eaeef3; z-index:2000; /* on top of everything */
    }
    .menu-toggle{ background:none; border:none; font-size:1.5rem; line-height:1; }
    .brand{ font-weight:700; }
    
    /* Hide header on large screens (sidebar is visible there) */
    @media (min-width:861px){
        .topbar{ display:none; }
    }
    

    /* Mobile styles */
    @media (max-width:860px){
        .layout{ display:block; padding-top:56px; }  /* content under fixed header */
      
        .sidebar{
          position:fixed; top:56px; left:0; bottom:0; width:260px; overflow-y:auto;
          background:#111; color:#fff; padding:2rem 1rem;
          transform:translateX(-100%); transition:transform .25s ease; z-index:1100;
        }
        .sidebar.open{ transform:translateX(0); }
      
        .backdrop{
          display:none; position:fixed; inset:56px 0 0 0;  /* leave header clickable */
          background:rgba(0,0,0,.4); z-index:1050;
        }
        .backdrop.show{ display:block; }
      }
      
  </style>
</head>
<body>
  <!-- Mobile header -->
  <header class="topbar" role="banner">
    <button class="menu-toggle" aria-controls="sidebar" aria-expanded="false" aria-label="Open menu">☰</button>
    <div class="brand">Xin Jin</div>
  </header>
  <div class="backdrop" id="backdrop"></div>

  <main class="layout">
    <aside class="sidebar" id="sidebar" role="complementary">
      <button class="close" aria-label="Close menu">×</button>
      <img src="./resume_pic.jpg" alt="Portrait of Xin Jin" class="avatar">
      <h2 class="name">Xin Jin</h2>
      <p class="role">Ph.D. Candidate · Economics</p>
      <nav class="tabs" role="tablist">
        <button role="tab" data-target="home" aria-selected="true">Home</button>
        <button role="tab" data-target="teaching">Teaching</button>
        <button role="tab" data-target="works">Working Papers</button>
        <button role="tab" data-target="cs">CS on GitHub</button>
      </nav>
    </aside>

    <section class="content" id="content" tabindex="-1">
      <article id="view-home" data-view="home">
        <h1>Welcome</h1>
        <p>I’m a Ph.D. Candidate in Economics at the University of Tennessee, Knoxville. I study how natural disasters affect educational outcomes, focusing on earthquake exposure and student achievement in Mexico.</p>
      </article>
      <article id="view-teaching" data-view="teaching" hidden>
        <h1>Teaching</h1>
        <p>Teaching details...</p>
      </article>
      <article id="view-works" data-view="works" hidden>
        <h1>Working Papers</h1>
        <p>Research works...</p>
      </article>
      <article id="view-cs" data-view="cs" hidden>
        <h1>CS Projects</h1>
        <p><a href="https://github.com/" target="_blank" rel="noopener">GitHub Profile</a></p>
      </article>
    </section>
  </main>

  <script>
    // Tabs (no reload)
    const views = new Map([...document.querySelectorAll('[id^="view-"]')].map(el=>[el.dataset.view,el]));
    const tabs = document.querySelectorAll('.tabs button');
    const content = document.getElementById('content');
    function show(view){
      if(!views.has(view)) view='home';
      views.forEach((el,k)=>el.hidden=k!==view);
      tabs.forEach(t=>t.setAttribute('aria-selected',String(t.dataset.target===view)));
      history.replaceState(null,'','#'+view);
      content.focus({preventScroll:false});
      closeSidebar();
    }
    tabs.forEach(t=>t.addEventListener('click',()=>show(t.dataset.target)));

    // Drawer logic
    const sidebar=document.getElementById('sidebar');
    const openBtn=document.querySelector('.menu-toggle');
    const closeBtn=document.querySelector('.sidebar .close');
    const backdrop=document.getElementById('backdrop');

    function openSidebar(){ sidebar.classList.add('open'); backdrop.classList.add('show'); }
    function closeSidebar(){ sidebar.classList.remove('open'); backdrop.classList.remove('show'); }
    

    openBtn?.addEventListener('click',()=>{ sidebar.classList.contains('open') ? closeSidebar() : openSidebar(); });
    closeBtn?.addEventListener('click', closeSidebar);
    backdrop?.addEventListener('click', closeSidebar);
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeSidebar(); });

    // Initial view
    window.addEventListener('DOMContentLoaded',()=>{ show(location.hash.replace('#','')||'home'); });
  </script>
</body>
</html>
